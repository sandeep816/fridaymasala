---
import Layout from '../layouts/Layout.astro';

// Get environment information
const envInfo = {
  isVercel: typeof process !== 'undefined' && process.env?.VERCEL,
  nodeEnv: typeof process !== 'undefined' ? process.env?.NODE_ENV : 'unknown',
  vercelEnv: typeof process !== 'undefined' ? process.env?.VERCEL_ENV : 'unknown',
  timestamp: new Date().toISOString()
};

console.log('Health check page loaded with env info:', envInfo);
---

<Layout title="Health Check - Friday Masala">
  <div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto">
      <h1 class="text-3xl font-bold text-gray-900 mb-6">Health Check</h1>
      
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
        <strong>✅ Status:</strong> Application is running successfully
      </div>
      
      <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4">
        <strong>🌐 Environment:</strong> {envInfo.isVercel ? 'Vercel' : 'Local Development'}
      </div>
      
      <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-4">
        <strong>📅 Timestamp:</strong> {envInfo.timestamp}
      </div>
      
      <div class="bg-gray-100 border border-gray-400 text-gray-700 px-4 py-3 rounded mb-4">
        <strong>🔧 Node Environment:</strong> {envInfo.nodeEnv}
      </div>
      
      <div class="bg-gray-100 border border-gray-400 text-gray-700 px-4 py-3 rounded mb-4">
        <strong>🚀 Vercel Environment:</strong> {envInfo.vercelEnv}
      </div>
      
      <div class="mt-6 space-y-2">
        <a href="/" class="text-red-500 hover:text-red-600 font-semibold block">
          ← Back to Home
        </a>
        <a href="/api/test" class="text-blue-500 hover:text-blue-600 font-semibold block">
          → Test API Endpoint
        </a>
      </div>
    </div>
  </div>
</Layout> 